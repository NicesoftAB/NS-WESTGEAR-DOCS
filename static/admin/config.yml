# Decap CMS config for editing Docusaurus markdown docs.
# This lives at `/admin/config.yml` and the UI at `/admin/`.

# Local editing (localhost only)
# - Run `pnpm cms:proxy` in one terminal
# - Run `pnpm start` in another
# - Open http://localhost:3000/admin/
local_backend: true

backend:
  # Local backend uses the Git Gateway API served by `decap-server`.
  name: git-gateway
  branch: main

  # For production: pick ONE of the options below and disable local_backend.
  #
  # Option A (GitHub backend – requires an OAuth/auth server, commonly via Netlify):
  # name: github
  # repo: NicesoftAB/NS-WESTGEAR-DOCS
  # branch: main
  # use_graphql: true

# Optional but nice to have
publish_mode: simple

media_folder: "static/img/uploads"
public_folder: "/img/uploads"

collections:
  - name: "docs"
    label: "Dokumentation"
    label_singular: "Dokument"
    folder: "docs"
    nested:
      depth: 5
    create: true
    extension: "md"
    format: "frontmatter"
    slug: "{{slug}}"
    summary: "{{dirname}} / {{title}}"
    fields:
      - { label: "ID", name: "id", widget: "string" }
      - { label: "Titel", name: "title", widget: "string" }
      - { label: "Innehåll", name: "body", widget: "markdown" }
